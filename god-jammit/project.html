<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>New Project</title>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <link rel="stylesheet" href="/styles/style.css" />
    <link rel="shortcut icon" href="/images/favicon.ico" type="image/x-icon">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
    <script src="https://www.gstatic.com/firebasejs/5.5.9/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/5.5.9/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/5.5.9/firebase.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/2.2.0/socket.io.js"></script>
    <script>
    var config = {
        apiKey: "AIzaSyC9WMs-5RNYl_bqZKwn15IfGiSXDpJ4UmM",
        authDomain: "god-jammit.firebaseapp.com",
        databaseURL: "https://god-jammit.firebaseio.com",
        projectId: "god-jammit",
        storageBucket: "god-jammit.appspot.com",
        messagingSenderId: "72377299659"
    };
    firebase.initializeApp(config);
    </script>
    <script src="https://cdn.firebase.com/libs/firebaseui/3.4.1/firebaseui.js"></script>
    <script src="/scripts/qwertyHancock.js"></script>
    <link type="text/css" rel="stylesheet" href="https://cdn.firebase.com/libs/firebaseui/3.4.1/firebaseui.css" />
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <!-- TONE.JS STUFF -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/tone/13.3.11/Tone.js"></script>
    <script src="/tonejs-instruments/Tonejs-Instruments.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/midiconvert@0.4.7/build/MidiConvert.min.js"></script>

    <script src="/scripts/index.js"></script>
    <script src="/scripts/project.js"></script>
    <script src="/scripts/midi.js"></script>
    <!--<script data-main="scripts/project" src="/scripts/require.js"></script>-->
    <!---->
    <!-- this point on is all copied and pasted from MIDI.html -->
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <!-- polyfill -->
    <script src="/MIDI.js/inc/shim/Base64.js" type="text/javascript"></script>
    <script src="/MIDI.js/inc/shim/Base64binary.js" type="text/javascript"></script>
    <script src="/MIDI.js/inc/shim/WebAudioAPI.js" type="text/javascript"></script>
    <!-- midi.js package -->
    <script src="/MIDI.js/js/midi/audioDetect.js" type="text/javascript"></script>
    <script src="/MIDI.js/js/midi/gm.js" type="text/javascript"></script>
    <script src="/MIDI.js/js/midi/loader.js" type="text/javascript"></script>
    <script src="/MIDI.js/js/midi/plugin.audiotag.js" type="text/javascript"></script>
    <script src="/MIDI.js/js/midi/plugin.webaudio.js" type="text/javascript"></script>
    <script src="/MIDI.js/js/midi/plugin.webmidi.js" type="text/javascript"></script>
    <!-- utils -->
    <script src="/MIDI.js/js/util/dom_request_xhr.js" type="text/javascript"></script>
    <script src="/MIDI.js/js/util/dom_request_script.js" type="text/javascript"></script>
    <!--<script defer src="/scripts/require.js"></script>-->
</head>
<body class="bg-light">
    <div class="container">
        <div id="navbar" class="navbar navbar-expand-lg">
            <div class="container">
                <div>
                    <a class="navbar-brand" href="/">
                        <img id="logo" src="/images/icon.png" alt="logo" />
                    </a>
                    <span class="navbar-text">
                        Collaborate on music from your own home
                    </span>
                </div>
                <a id="login" role="button" href="/login"></a>
            </div>
        </div>

        <div id="fun">
            <form id="song_finish" action="/publish" method="post">
                <input id="id" type="hidden" name="id">
                <input id="owner" type="hidden" name="owner">
                <input id="collaborators" type="hidden" name="collaborators">
                <input id="audio_song" type="hidden" name="audio">
                <audio id="audio"></audio>
                <input id="song_name" type="text" class="form-control form-control-lg disabled" name="name" placeholder="Song Title" />
                <div id="user" class="jumbotron shadow">
                    <h3>Users</h3>
                    <div id="users">
                    </div>
                </div>
                <div id="midi_viz" class="shadow"> <!-- WHERE MIDI VIZ SHOULD GO -->
                </div>
                <button id="ready" class="btn btn-success disabled" type="button">Ready</button>
                <button id="publish" class="btn btn-success hidden" type="button">Publish</button>
                <button id="record" class="btn btn-danger hidden" type="button">Record</button>
            </form>
        </div>
        <!-- MIDI stuff -->
        <ul id="midi-list"></ul>
        <div id="debug"></div>

        <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
        <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" crossorigin="anonymous"></script>
    </body>
    </html>
